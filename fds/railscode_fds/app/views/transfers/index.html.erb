
<!DOCTYPE html>
<html>
  <head>
    <title>Transfer</title>
  </head>
  <body>
    <div class="main">
      <!-- <h1>Simple Range Pricing Widget</h1> -->
        <div class="form-horizontal form-pricing agile_form_horizontal" role="form" action="#" method="post">
          <div class="form-style-10">
            <h1>transfer<span></span></h1>
              <div class="section">Money Transfer</div>
              <div class="inner-wrap">
                <label>출금계좌번호
                  <input type="text" id="fromAccount" />
                </label>
                <label>계좌 비밀번호
                  <input type="password" />
                </label>
              </div>
              <div class="inner-wrap">
                <label>입금 은행
                  <select id="toBankCode">
                    <option value="volvo">신한은행</option>
                    <option value="saab">국민은행</option>
                    <option value="opel">하나은행</option>
                    <option value="audi">우리은행</option>
                  </select>
                </label>
                <label>입금 계좌
                  <input type="text" id="toAccount" />
                </label>
                <label>입금 고객명
                  <input type="text" id="toCustomerName" />
                </label>
                <label>금액
                  <input type="text" id="money" />
                </label>
              </div>
              <div class="inner-wrap">
                <label>받는통장메모
                  <input type="text" />
                </label>
                <label>내통장메모
                  <input type="text" />
                </label>
              </div>
              <!-- <div hidden>
                  <label>거래번호
                      <input type="text" id="orderNum" />
                  </label>
                  <label>고객번호
                      <input type="text" id="CID" />
                  </label>
                  <label>출금 고객명
                      <input type="text" id="fromCustomerName" />
                  </label>
                  <label>출금 은행명
                      <input type="text" id="fromBankCode" />
                  </label>
              </div>
              <div hidden>
                  <label>단말기ID
                      <input type="text" id="deviceID" />
                  </label>
                  <label>MAC
                      <input type="text" id="MAC" />
                  </label>
                  <label>결재IP
                      <input type="text" id="IPAddr" />
                  </label>
                  <label>모바일여부
                      <input type="text" id="deviceType" />
                  </label>
              </div> -->
              <div class="form-group wthree_form_group">
                <button class="btn btn-primary btn-lg btn-block btn-submit">Proceed <span class="glyphicon glyphicon-chevron-right pull-right" style="padding-right: 10px;"></span></button>
              </div>
          </div>
        </div>
      </div>

      <script>
        $(document).ready(function() {
            $('.btn-submit').click(function(event){
              var orderNum = "N16021810001";

              var CID = "12345";
              var fromCustomerName = "홍길동";
              var fromBankCode = "신한은행";
              var fromAccount = $("#fromAccount").val();

              var toBankCode = $("#toBankCode").val();
              var toCustomerName = $("#toCustomerName").val();
              var toAccount = $("#toAccount").val();
              var money = $("#money").val();

              var deviceID = "ID123";
              var MAC = "12:34:56:A1:B2:C3";
              var IPAddr = "127.0.0.1";
              var deviceType = "M";

              var sendInfo = {
                "ordernum":orderNum,
                "customer": {
                  "CID":CID,
                  "name":fromCustomerName,
                  "bankcode":fromBankCode,
                  "account":fromAccount
                },
                "depositAccount":{
                  "bankCode":toBankCode,
                  "customerName":toCustomerName,
                  "account":toAccount,
                  "money":money
                },
                "device": {
                  "deviceID":deviceID,
                  "MAC":MAC,
                  "IPAddr":IPAddr,
                  "Type":deviceType
                }
              };
              

              console.log(sendInfo);
              $.ajax({
                type: "POST",
                url: "http://localhost:3000/transfer",
                data: JSON.stringify(sendInfo),
                contentType: "application/json; charset=utf-8",
                success: function (msg) {
                  if (msg) {
                    alert(msg)
                  } else {
                    alert("Cannot load Hyperledger Data!");
                  }
                }
              });
            });
          });
      </script>
    </div>
  </body>
</html>